(this["webpackJsonpmovie-trend"]=this["webpackJsonpmovie-trend"]||[]).push([[0],{125:function(e,t,n){},126:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(13),c=n.n(a),o=n(2),i=n.n(o),s=n(10),u=n(14),l=n(169),f=n(129),d=n(3),p=Object(f.a)((function(){return{anchorTopRight:{transform:"translate(50%, -90%)",backgroundColor:"#000000",color:"#ffffff",zIndex:"0"},favoritLink:{color:"#000000",minWidth:"44px",minHeight:"44px",cursor:"pointer"}}})),b=function(e){var t=p();return Object(d.jsxs)("header",{children:[Object(d.jsx)("h1",{className:"header bottom-margin",children:"Movie Trend"}),Object(d.jsx)("div",{className:t.favoritLink,onClick:function(){e.onClick()},children:Object(d.jsx)(l.a,{badgeContent:e.favoriteQuantity,classes:{badge:t.anchorTopRight},showZero:!0,children:"Favorite"})})]})},h=n(43),j=n.n(h),v={getMovie:function(){return Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("".concat("https://api.themoviedb.org/3","/trending/movie/day?api_key=").concat("721072952105fd338821ee97f0e21d72"));case 3:t=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:return e.abrupt("return",t.data.results);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))()},getGenres:function(){return Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("".concat("https://api.themoviedb.org/3","/genre/movie/list?api_key=").concat("721072952105fd338821ee97f0e21d72"));case 3:t=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:return e.abrupt("return",t.data.genres);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))()},getMovieSearch:function(e){return Object(s.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.a.get("".concat("https://api.themoviedb.org/3","/search/movie?query=").concat(e,"&api_key=").concat("721072952105fd338821ee97f0e21d72"));case 3:n=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:return t.abrupt("return",n.data.results);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()},getDetailMovie:function(e){return Object(s.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.a.get("".concat("https://api.themoviedb.org/3","/movie/").concat(e,"?api_key=").concat("721072952105fd338821ee97f0e21d72"));case 3:n=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:return t.abrupt("return",n.data);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()}},m=n(183),x=n(185),g=n(74),O=n.n(g),k=n(171),w=Object(k.a)((function(e){return{searchForm:{margin:e.spacing(1),"& input + fieldset":{borderColor:"#484848"},"& input:valid:focus + fieldset":{borderColor:"#212121"},width:"95%",backgroundColor:"#212121",borderRadius:"35px"},noBorder:{border:"none"},input:{color:"#ffffff",marginLeft:"3%"}}})),y=function(e){var t=Object(r.useState)(""),n=Object(u.a)(t,2),a=n[0],c=n[1],o=w();return Object(d.jsx)(m.a,{className:"".concat(o.searchForm," bottom-margin"),variant:"outlined",InputProps:{endAdornment:Object(d.jsx)(x.a,{position:"end",children:Object(d.jsx)(O.a,{onClick:function(t){e.handleClick(a),c("")},style:{color:"#ffffff",cursor:"pointer"}})}),classes:{notchedOutline:o.noBorder},className:o.input},placeholder:"Search...",value:a,onChange:function(e){var t=e.target.value;c(t)}})},C=n(75),N=(n(121),Object(f.a)((function(){return{imgStyle:{borderRadius:"15px",display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",objectFit:"cover",width:"100%"}}}))),_=function(e){var t=N();return Object(d.jsx)(C.LazyLoadImage,{alt:e.name,effect:"blur",src:e.url,className:t.imgStyle})},S=n(186),I=n(51),F=n.n(I),B=n(52),M=n.n(B),T=function(e){var t,n=e.genres;return null!==n&&(t=n.filter((function(t){return e.idGenre.includes(t.id)}))),Object(d.jsxs)("div",{className:"movie-text-container",children:[Object(d.jsx)("h1",{className:"heading1 one-line",children:e.title}),Object(d.jsx)("span",{className:"one-line text-grey",children:void 0===t?"":t.map((function(e,t){return"".concat(t?", ":""," ").concat(e.name)}))}),Object(d.jsxs)("span",{className:"movie-attribute",children:[Object(d.jsx)(S.a,{icon:Object(d.jsx)(F.a,{style:{color:"orange"}}),label:e.rating,style:{backgroundColor:"#212121",color:"#ffffff"}}),Object(d.jsx)(S.a,{icon:Object(d.jsx)(M.a,{style:{color:"#ffffff"}}),label:e.popularity,style:{backgroundColor:"#212121",color:"#ffffff"}}),Object(d.jsx)(S.a,{label:e.release,style:{backgroundColor:"#212121",color:"#ffffff"}}),Object(d.jsx)("p",{className:"two-line",children:e.overview})]})]})},D=n(172),z=n(6),L=n(173),R=n(174),W=n(176),Y=n(175),G=n(77),J=n.n(G),A=n(78),H=n.n(A),Q=n(178),E=n(177),P=n(80),X=Object(P.a)("https://idgovqfxlsvwcssfdgrx.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYzMjI3NTY0MywiZXhwIjoxOTQ3ODUxNjQzfQ.y3KYg-YpL8ccsrCNDbSAZTldJvFTNXNOu_BSwFz09Sc"),Z=function(){var e=Object(s.a)(i.a.mark((function e(t){var n,r,a,c,o,s,u,l,f,d,p,b,h,j,v;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.poster_path,a=t.original_title,c=t.genre_ids,o=t.vote_average,s=t.popularity,u=t.runtime,l=t.release_date,f=t.overview,d=t.homepage,p=t.budget,e.prev=1,b=X.auth.user().email,h={email:b,id:n,poster_path:r,original_title:a,genre_ids:c,vote_average:o,popularity:s,runtime:u,release_date:l,overview:f,homepage:d,budget:p},e.next=6,X.from("movie_favorite").insert(h);case 6:if(j=e.sent,!(v=j.error)){e.next=10;break}throw v;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),alert(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(s.a)(i.a.mark((function e(t){var n,r,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.prev=1,r=X.auth.user().email,e.next=5,X.from("movie_favorite").delete().match({id:n,email:r});case 5:if(a=e.sent,!(c=a.error)){e.next=9;break}throw c;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),U=Object(k.a)((function(e){return{root:{position:"fixed",width:"100%",height:"100%",top:"0",left:"0",overflow:"scroll",backgroundColor:"theme.palette.background.paper",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},media:{height:"80vh",borderRadius:"4px",gridRowStart:"1",gridRowEnd:"3"},closeButton:{backgroundColor:"#212121",width:"100%",minHeight:"44px",color:"#ffffff",fontWeight:"bold",textDecoration:"none",cursor:"pointer"},makeCenter:{display:"flex",justifyContent:"center",alignItems:"center"},watchButton:{border:"2px solid #212121",width:"100%",minHeight:"44px",color:"#212121",fontWeight:"bold",textDecoration:"none",cursor:"pointer"}}})),K=function(e){var t=Object(r.useState)(null),n=Object(u.a)(t,2),a=n[0],c=n[1],o=Object(r.useState)(!1),l=Object(u.a)(o,2),f=l[0],p=l[1],b=Object(r.useState)(!1),h=Object(u.a)(b,2),j=h[0],v=h[1],m=U();Object(r.useEffect)((function(){var t=function(){var e=Object(s.a)(i.a.mark((function e(){var t,n,r,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=X.auth.user().email,v(!0),e.next=5,X.from("movie_favorite").select("id").match({email:t,id:a.id});case 5:if(n=e.sent,r=n.data,c=n.error,o=n.status,!c||406===o){e.next=11;break}throw c;case 11:1===r.length&&p(!0),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:return e.prev=17,v(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,14,17,20]])})));return function(){return e.apply(this,arguments)}}();c(e.movieDetail),null!==a&&t()}),[a,e.movieDetail]);var x=function(){var t=Object(s.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p(!0),v(!0),t.next=4,Z({id:a.id,poster_path:a.poster_path,original_title:a.original_title,genre_ids:a.genres,vote_average:a.vote_average,popularity:a.popularity,runtime:a.runtime,release_date:a.release_date,overview:a.overview,homepage:a.homepage,budget:a.budget});case 4:e.checkFavoriteCount(),v(!1);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(){var t=Object(s.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p(!1),v(!0),t.next=4,q({id:a.id});case 4:e.checkFavoriteCount(),v(!1);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=Object(z.a)((function(){return{root:{color:"#212121",width:"64px !important",height:"64px !important"}}}))(D.a);return Object(d.jsxs)(L.a,{className:m.root,children:[j&&Object(d.jsxs)("div",{className:"loading-screen",children:[" ",Object(d.jsx)(O,{})," "]}),null!==a&&Object(d.jsx)("div",{className:"detail-content-wrap",children:Object(d.jsxs)(R.a,{className:"card-action-area",children:[Object(d.jsx)(Y.a,{className:m.media,image:"https://image.tmdb.org/t/p/original/".concat(a.poster_path),title:a.title}),Object(d.jsxs)(W.a,{className:"card-content",children:[Object(d.jsxs)("div",{style:{position:"relative"},children:[Object(d.jsxs)("h1",{children:[a.original_title," "]}),Object(d.jsx)("span",{className:"text-grey",children:a.genres.map((function(e,t){return"".concat(t?", ":""," ").concat(e.name)}))}),f?Object(d.jsx)(E.a,{className:"button-favorite",onClick:g}):Object(d.jsx)(Q.a,{className:"button-favorite",onClick:x})]}),Object(d.jsxs)("div",{className:"attribute-container",children:[Object(d.jsx)(S.a,{icon:Object(d.jsx)(F.a,{style:{color:"orange"}}),label:a.vote_average,style:{backgroundColor:"#212121",color:"#ffffff"}}),Object(d.jsx)(S.a,{icon:Object(d.jsx)(M.a,{style:{color:"#ffffff"}}),label:a.popularity,style:{backgroundColor:"#212121",color:"#ffffff"}}),Object(d.jsx)(S.a,{icon:Object(d.jsx)(J.a,{style:{color:"#ffffff"}}),label:"".concat(a.runtime," minute"),style:{backgroundColor:"#212121",color:"#ffffff"}}),Object(d.jsx)(S.a,{icon:Object(d.jsx)(H.a,{style:{color:"#ffffff"}}),label:"Budget: ".concat(0===a.budget?"Not available":a.budget.toLocaleString()),style:{backgroundColor:"#212121",color:"#ffffff"}}),Object(d.jsx)(S.a,{label:a.release_date,style:{backgroundColor:"#212121",color:"#ffffff"}})]}),Object(d.jsxs)("div",{className:"overview-containter",children:[Object(d.jsx)("h1",{style:{fontSize:"1.3em"},children:"Overview:"}),Object(d.jsx)("p",{style:{fontSize:"1.2em"},children:a.overview})]})]}),Object(d.jsxs)("div",{className:"card-actions",children:[Object(d.jsx)("div",{className:"".concat(m.watchButton," ").concat(m.makeCenter),onClick:function(){window.open("".concat(a.homepage))},children:"Watch"}),Object(d.jsx)("div",{className:"".concat(m.closeButton," ").concat(m.makeCenter),onClick:function(){e.handleClose()},children:"Close"})]})]})})]})},V=Object(z.a)((function(){return{root:{color:"#212121",width:"64px !important",height:"64px !important"}}}))(D.a),$=function(e){var t=Object(r.useState)(null),n=Object(u.a)(t,2),a=n[0],c=n[1],o=Object(r.useState)(!1),l=Object(u.a)(o,2),f=l[0],p=l[1],b=e.movies,h=e.movieGenres;return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{className:"heading1 bottom-margin",children:e.heading}),null!==b&&b.length<1&&Object(d.jsx)("h1",{className:"not-found",children:"Not Found "}),Object(d.jsx)("div",{className:"container-movie",children:null===b?Object(d.jsx)(V,{}):b.map((function(t){return Object(d.jsxs)("div",{className:"wrap-card-movie bottom-margin",onClick:function(){var n;n=t.id,function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getDetailMovie(n);case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),p(!f),e.closeHandleBack(!1)},children:[Object(d.jsx)(_,{url:"https://image.tmdb.org/t/p/original/".concat(t.poster_path),name:t.title}),Object(d.jsx)(T,{title:t.original_title,idGenre:t.genre_ids,release:t.release_date,rating:t.vote_average,popularity:t.popularity,overview:t.overview,genres:h})]},t.id)}))}),f&&Object(d.jsx)(K,{handleClose:function(){p(!f),c(null)},movieDetail:a,checkFavoriteCount:e.checkFavoriteCount})]})},ee=function(){var e=(new Date).getFullYear();return Object(d.jsx)("footer",{className:"text-grey",children:Object(d.jsxs)("p",{style:{textAlign:"center"},children:["Copyright \u24d2 ",e]})})},te=n(179),ne=n(79),re=n.n(ne),ae=Object(k.a)((function(e){return{fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2),color:e.palette.common.white,backgroundColor:"#212121","&:hover":{backgroundColor:"#000000"}},extendedIcon:{marginRight:e.spacing(1)}}})),ce=function(e){var t=ae();return Object(d.jsxs)(te.a,{variant:"extended",className:t.fab,onClick:function(){e.handleBack(!1)},children:[Object(d.jsx)(re.a,{className:t.extendedIcon}),"Back"]})},oe=n(182),ie=n(180),se=n(181),ue=Object(k.a)((function(e){return{container:{padding:e.spacing(3),height:"90vh",paddingTop:"30vh"},buttonSubmit:{backgroundColor:"#212121",color:"#ffffff"}}})),le=function(){var e=ue(),t=Object(r.useState)(!1),n=Object(u.a)(t,2),a=n[0],c=n[1],o=Object(r.useState)(""),l=Object(u.a)(o,2),f=l[0],p=l[1],b=function(){var e=Object(s.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(!0),e.next=4,X.auth.signIn({email:f});case 4:if(t=e.sent,!(n=t.error)){e.next=8;break}throw n;case 8:alert("Check your email for login link!"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),alert(e.t0.error_description||e.t0.message);case 14:return e.prev=14,c(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)(ie.a,{className:e.container,maxWidth:"xs",children:[Object(d.jsx)("h1",{style:{marginBottom:"10%",textAlign:"center"},children:"Movie Trend"}),Object(d.jsxs)(se.a,{container:!0,spacing:3,children:[Object(d.jsx)(se.a,{item:!0,xs:12,children:Object(d.jsx)(se.a,{container:!0,spacing:2,children:Object(d.jsx)(se.a,{item:!0,xs:12,children:Object(d.jsx)(m.a,{fullWidth:!0,name:"email",size:"small",variant:"outlined",placeholder:"Your email",value:f,onChange:function(e){return p(e.target.value)}})})})}),Object(d.jsx)(se.a,{item:!0,xs:12,children:Object(d.jsx)(oe.a,{className:e.buttonSubmit,fullWidth:!0,type:"submit",onClick:function(e){e.preventDefault(),b(f)},variant:"contained",children:a?Object(d.jsx)("span",{children:"Loading"}):Object(d.jsx)("span",{children:"Send magic link"})})})]})]})},fe=function(){var e=Object(s.a)(i.a.mark((function e(){var t,n,r,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=X.auth.user().email,e.next=4,X.from("movie_favorite").select("email").match({email:t});case 4:if(n=e.sent,r=n.data,a=n.error,c=n.status,!a||406===c){e.next=10;break}throw a;case 10:if(!r){e.next=12;break}return e.abrupt("return",r.length);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(s.a)(i.a.mark((function e(){var t,n,r,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.auth.user().email;case 3:return t=e.sent,e.next=6,X.from("movie_favorite").select("*").match({email:t});case 6:if(n=e.sent,r=n.data,a=n.error,c=n.status,!a||406===c){e.next=12;break}throw a;case 12:if(!r){e.next=14;break}return e.abrupt("return",r);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(r.useState)(null),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(null),o=Object(u.a)(c,2),l=o[0],f=o[1],p=Object(r.useState)(null),h=Object(u.a)(p,2),j=h[0],m=h[1],x=Object(r.useState)(!1),g=Object(u.a)(x,2),O=g[0],k=g[1],w=Object(r.useState)(0),C=Object(u.a)(w,2),N=C[0],_=C[1],S=Object(r.useState)("Movie Trending"),I=Object(u.a)(S,2),F=I[0],B=I[1],M=Object(r.useCallback)((function(e){e&&(function(){var t=Object(s.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.getMovieSearch(e);case 2:n=t.sent,f(n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),B("Search result"),k(!0))}),[]),T=function(e){var t=function(){var t=Object(s.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.getMovie();case 2:n=t.sent,f(n),k(e);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();B("Movie Trending"),t()},D=function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe();case 2:t=e.sent,_(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de();case 2:t=e.sent,f(t),B("Your Favorite Movie"),k(!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){a(X.auth.session()),X.auth.onAuthStateChange((function(e,t){a(t)}));var e=function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getMovie();case 2:t=e.sent,f(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getGenres();case 2:t=e.sent,m(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),t(),D()}),[]),Object(d.jsx)("div",{children:n?Object(d.jsxs)("div",{children:[Object(d.jsx)(b,{favoriteQuantity:N,onClick:z}),Object(d.jsx)(y,{className:"search-input",handleClick:M}),Object(d.jsx)($,{heading:F,movies:l,movieGenres:j,isSearch:O,checkFavoriteCount:D,closeHandleBack:T}),O&&Object(d.jsx)(ce,{handleBack:T}),Object(d.jsx)(ee,{})]}):Object(d.jsx)(le,{})})};n(125),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,187)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))};c.a.render(Object(d.jsx)(pe,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),be()}},[[126,1,2]]]);
//# sourceMappingURL=main.7a106e7f.chunk.js.map